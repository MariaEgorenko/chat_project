{% extends "base.html" %}

{% block title %}Чат — Вход{% endblock %}

{% block content %}
<div id="auth-section">
    <h2>Регистрация</h2>
    <form id="register-form">
        <input name="login" placeholder="Логин" required>
        <input name="name" placeholder="Имя" required>
        <input name="password" type="password" placeholder="Пароль" required>
        <button type="submit">Зарегистрироваться</button>
    </form>
    <div id="register-message" style="color: green;"></div>

    <h2>Вход</h2>
    <form id="login-form">
        <input name="login" placeholder="Логин" required>
        <input name="password" type="password" placeholder="Пароль" required>
        <button type="submit">Войти</button>
    </form>
    <div id="login-message" style="color: red;"></div>
</div>

<div id="home-section" style="display: none;">
    <h2>Главная</h2>
    <p>Привет, <span id="user-name"></span>!</p>
    <p>WebSocket статус: <span id="ws-status">отключен</span></p>

    <button id="logout-btn">Выйти</button>

    <hr>
    <h3>Тест отправки сообщений по WebSocket</h3>
    <form id="ws-send-form">
        <input name="text" placeholder='Текст для отправки {"action": "..."}'>
        <button type="submit">Отправить</button>
    </form>
    <pre id="ws-log" style="background:#eee; padding:8px; max-height:200px; overflow:auto;"></pre>
</div>

<script src="/static/js/app.js"></script>
{% endblock %}
